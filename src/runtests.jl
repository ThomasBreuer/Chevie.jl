# auto-generated tests from julia-repl docstrings
using Test, Gapjm
#include("../tools/Gap4.jl")
function mytest(file::String,src::String,man::String)
  println(file," ",src)
  omit=src[end]==';'
  src=replace(src,"\\\\"=>"\\")
  exec=repr(MIME("text/plain"),eval(Meta.parse(src)),context=:limit=>true)
  if omit exec="nothing" end
  exec=replace(exec,r" *(\n|$)"s=>s"\1")
  exec=replace(exec,r"\n$"s=>"")
  man=replace(man,r" *(\n|$)"s=>s"\1")
  man=replace(man,r"\n$"s=>"")
  i=1
  while i<=lastindex(exec) && i<=lastindex(man) && exec[i]==man[i]
    i=nextind(exec,i)
  end
  if exec!=man 
    print("exec=$(repr(exec[i:end]))\nmanl=$(repr(man[i:end]))\n")
  end
  exec==man
end
@testset verbose = true "Gapjm" begin
@testset "Posets.jl" begin
@test mytest("Posets.jl","p=Poset([[2,3],[4],[4],Int[]])","1<2,3<4")
@test mytest("Posets.jl","summary(p)","\"Poset{Int64} with 4 elements\"")
@test mytest("Posets.jl","length(p)","4")
@test mytest("Posets.jl","incidence(p)","4×4 Matrix{Bool}:\n 1  1  1  1\n 0  1  0  1\n 0  0  1  1\n 0  0  0  1")
@test mytest("Posets.jl","l=vec(collect(Iterators.product(1:2,1:2)))","4-element Vector{Tuple{Int64, Int64}}:\n (1, 1)\n (2, 1)\n (1, 2)\n (2, 2)")
@test mytest("Posets.jl","P=Poset((x,y)->all(map(<=,x,y)),l)","(1, 1)<(2, 1),(1, 2)<(2, 2)")
@test mytest("Posets.jl","P=Poset([all(map(<=,x,y)) for x in l, y in l],l)","(1, 1)<(2, 1),(1, 2)<(2, 2)")
@test mytest("Posets.jl","P.show_element=(io,x,n)->join(io,x.elements[n],\".\");","nothing")
@test mytest("Posets.jl","P","1.1<2.1,1.2<2.2")
@test mytest("Posets.jl","p=Poset((i,j)->j%i==0,1:6)","1<5\n1<2<4\n1<3<6\n2<6")
@test mytest("Posets.jl","p[2:6]","2-element Vector{Int64}:\n 2\n 6")
@test mytest("Posets.jl","p[2:end]","3-element Vector{Int64}:\n 2\n 4\n 6")
@test mytest("Posets.jl","p[begin:6]","4-element Vector{Int64}:\n 1\n 2\n 3\n 6")
@test mytest("Posets.jl","p[2:3]","Int64[]")
@test mytest("Posets.jl","m=[j-i in [0,1] for i in 1:5, j in 1:5]","5×5 Matrix{Bool}:\n 1  1  0  0  0\n 0  1  1  0  0\n 0  0  1  1  0\n 0  0  0  1  1\n 0  0  0  0  1")
@test mytest("Posets.jl","transitive_closure(m)","5×5 Matrix{Bool}:\n 1  1  1  1  1\n 0  1  1  1  1\n 0  0  1  1  1\n 0  0  0  1  1\n 0  0  0  0  1")
@test mytest("Posets.jl","Poset(Bool[1 1 1 1 1;0 1 0 1 1;0 0 1 1 1;0 0 0 1 0;0 0 0 0 1])","1<2,3<4,5")
@test mytest("Posets.jl","Poset([[2,3],[4,5],[4,5],Int[],Int[]])","1<2,3<4,5")
@test mytest("Posets.jl","p=Poset((i,j)->j%i==0,1:6)","1<5\n1<2<4\n1<3<6\n2<6")
@test mytest("Posets.jl","linear_extension(p)","6-element Vector{Int64}:\n 1\n 2\n 3\n 5\n 4\n 6")
@test mytest("Posets.jl","p=Poset((i,j)->j%i==0,1:5)","1<3,5\n1<2<4")
@test mytest("Posets.jl","hasse(p)","5-element Vector{Vector{Int64}}:\n [2, 3, 5]\n [4]\n []\n []\n []")
@test mytest("Posets.jl","p=Poset([i==6 ? Int[] : [i+1] for i in 1:6])","1<2<3<4<5<6")
@test mytest("Posets.jl","incidence(p)","6×6 Matrix{Bool}:\n 1  1  1  1  1  1\n 0  1  1  1  1  1\n 0  0  1  1  1  1\n 0  0  0  1  1  1\n 0  0  0  0  1  1\n 0  0  0  0  0  1")
@test mytest("Posets.jl","p=Poset((i,j)->i%4<j%4,1:8)","4,8<1,5<2,6<3,7")
@test mytest("Posets.jl","reverse(p)","3,7<2,6<1,5<4,8")
@test mytest("Posets.jl","p=Poset([i==j || i%4<j%4 for i in 1:8, j in 1:8])","4,8<1,5<2,6<3,7")
@test mytest("Posets.jl","partition(p)","4-element Vector{Vector{Int64}}:\n [4, 8]\n [2, 6]\n [3, 7]\n [1, 5]")
@test mytest("Posets.jl","p=Poset((i,j)->i%4<j%4,1:8)","4,8<1,5<2,6<3,7")
@test mytest("Posets.jl","restricted(p,2:6)","4<5<2,6<3")
@test mytest("Posets.jl","p=Poset((i,j)->j%i==0,1:8)","1<5,7\n1<2<4<8\n1<3<6\n2<6")
@test mytest("Posets.jl","isjoinlattice(p)","false")
@test mytest("Posets.jl","p=Poset((i,j)->j%i==0,1:8)","1<5,7\n1<2<4<8\n1<3<6\n2<6")
@test mytest("Posets.jl","ismeetlattice(p)","true")
end
@testset "Ucl.jl" begin
@test mytest("Ucl.jl","UnipotentClasses(rootdatum(:sl,4))","UnipotentClasses(sl₄)\n1111<211<22<31<4\n   u│D-R dBu B-C          C(u) A₃(A₃₍₎=Φ₁³) A₁(A₃₍₁₃₎=A₁×A₁Φ₁)/-1 .(A₃)/ζ₄\n────┼──────────────────────────────────────────────────────────────────────\n4   │222   0 222         q³.Z₄          1:4                  -1:2    ζ₄:Id\n31  │202   1 22.    q⁴.A₁₍₎=Φ₁        Id:31\n22  │020   2 2.2      q⁴.A₁.Z₂         2:22                 11:11\n211 │101   3 2.. q⁵.A₂₍₁₎=A₁Φ₁       Id:211\n1111│000   6 ...            A₃      Id:1111\n\n   u│.(A₃)/ζ₄³\n────┼──────────\n4   │   ζ₄³:Id\n31  │\n22  │\n211 │\n1111│")
@test mytest("Ucl.jl","UnipotentClasses(coxgroup(:A,3))","UnipotentClasses(A₃)\n1111<211<22<31<4\n   u│D-R dBu B-C          C(u) A₃(A₃₍₎=Φ₁³)\n────┼───────────────────────────────────────\n4   │222   0 222            q³         Id:4\n31  │202   1 22.    q⁴.A₁₍₎=Φ₁        Id:31\n22  │020   2 2.2         q⁴.A₁        Id:22\n211 │101   3 2.. q⁵.A₂₍₁₎=A₁Φ₁       Id:211\n1111│000   6 ...            A₃      Id:1111")
@test mytest("Ucl.jl","UnipotentClasses(coxgroup(:G,2))","UnipotentClasses(G₂)\n1<A₁<Ã₁<G₂(a₁)<G₂\n     u│D-R dBu B-C  C(u)    G₂(G₂₍₎=Φ₁²)  .(G₂)\n──────┼─────────────────────────────────────────\nG₂    │ 22   0  22    q²         Id:φ₁‚₀\nG₂(a₁)│ 20   1  20 q⁴.S₃ 21:φ′₁‚₃ 3:φ₂‚₁ 111:Id\nÃ₁    │ 01   2  .2 q³.A₁         Id:φ₂‚₂\nA₁    │ 10   3  2. q⁵.A₁        Id:φ″₁‚₃\n1     │ 00   6  ..    G₂         Id:φ₁‚₆")
@test mytest("Ucl.jl","UnipotentClasses(coxgroup(:G,2),3)","UnipotentClasses(G₂,3)\n1<A₁,(Ã₁)₃<Ã₁<G₂(a₁)<G₂\n     u│dBu B-C  C(u) G₂(G₂₍₎=Φ₁²) .(G₂) .(G₂)  .(G₂)\n──────┼──────────────────────────────────────────────\nG₂    │  0  22 q².Z₃       1:φ₁‚₀       ζ₃:Id ζ₃²:Id\nG₂(a₁)│  1  20 q⁴.Z₂       2:φ₂‚₁ 11:Id\nÃ₁    │  2  .2    q⁶      Id:φ₂‚₂\nA₁    │  3  2. q⁵.A₁     Id:φ″₁‚₃\n(Ã₁)₃ │  3  ?? q⁵.A₁     Id:φ′₁‚₃\n1     │  6  ..    G₂      Id:φ₁‚₆")
@test mytest("Ucl.jl","uc=UnipotentClasses(coxgroup(:G,2));","nothing")
@test mytest("Ucl.jl","t=ICCTable(uc)","Coefficients of Xᵪ on Yᵩ for series L=G₂₍₎=Φ₁² W_G(L)=G₂\n      │G₂ G₂(a₁)⁽²¹⁾ G₂(a₁) Ã₁ A₁  1\n──────┼──────────────────────────────\nXφ₁‚₀ │ 1          0      1  1  1  1\nXφ′₁‚₃│ 0          1      0  1  0 q²\nXφ₂‚₁ │ 0          0      1  1  1 Φ₈\nXφ₂‚₂ │ 0          0      0  1  1 Φ₄\nXφ″₁‚₃│ 0          0      0  0  1  1\nXφ₁‚₆ │ 0          0      0  0  0  1")
@test mytest("Ucl.jl","W=coxgroup(:F,4)","F₄")
@test mytest("Ucl.jl","H=reflection_subgroup(W,[1,3])","F₄₍₁₃₎=A₁×Ã₁Φ₁²")
@test mytest("Ucl.jl","induced_linear_form(W,H,[2,2])","4-element Vector{Int64}:\n 0\n 1\n 0\n 0")
@test mytest("Ucl.jl","uc=UnipotentClasses(W);","nothing")
@test mytest("Ucl.jl","uc.classes[4].prop","Dict{Symbol, Any} with 8 entries:\n  :dynkin     => [0, 1, 0, 0]\n  :dimred     => 6\n  :red        => A₁×A₁\n  :Au         => .\n  :balacarter => [1, 3]\n  :rep        => [1, 3]\n  :dimunip    => 18\n  :AuAction   => A₁×A₁")
@test mytest("Ucl.jl","uc.classes[4]","UnipotentClass(A₁+Ã₁)")
@test mytest("Ucl.jl","W=coxgroup(:F,4)","F₄")
@test mytest("Ucl.jl","distinguished_parabolics(W)","4-element Vector{Vector{Int64}}:\n []\n [3]\n [1, 3]\n [1, 3, 4]")
@test mytest("Ucl.jl","W=rootdatum(:sl,4)","sl₄")
@test mytest("Ucl.jl","uc=UnipotentClasses(W);","nothing")
@test mytest("Ucl.jl","uc.classes","5-element Vector{UnipotentClass}:\n UnipotentClass(1111)\n UnipotentClass(211)\n UnipotentClass(22)\n UnipotentClass(31)\n UnipotentClass(4)")
@test mytest("Ucl.jl","uc=UnipotentClasses(coxgroup(:A,3));t=ICCTable(uc)","Coefficients of Xᵪ on Yᵩ for series L=A₃₍₎=Φ₁³ W_G(L)=A₃\n     │4 31 22 211 1111\n─────┼─────────────────\nX4   │1  1  1   1    1\nX31  │0  1  1  Φ₂   Φ₃\nX22  │0  0  1   1   Φ₄\nX211 │0  0  0   1   Φ₃\nX1111│0  0  0   0    1")
@test mytest("Ucl.jl","W=coxgroup(:G,2)","G₂")
@test mytest("Ucl.jl","XTable(UnipotentClasses(W))","Values of character sheaves X̃ᵪ on local systems φ\n      X̃ᵪ|φ│   1 A₁ Ã₁ G₂(a₁)⁽¹¹¹⁾ G₂(a₁)⁽²¹⁾ G₂(a₁) G₂\n──────────┼────────────────────────────────────────────\nX_φ₁‚₀^G₂ │   1  1  1           0          0      1  1\nX_φ₁‚₆^G₂ │  q⁶  0  0           0          0      0  0\nX_φ′₁‚₃^G₂│  q³  0  q           0          q      0  0\nX_φ″₁‚₃^G₂│  q³ q³  0           0          0      0  0\nX_φ₂‚₁^G₂ │ qΦ₈  q  q           0          0      q  0\nX_φ₂‚₂^G₂ │q²Φ₄ q² q²           0          0      0  0\nX_Id^.    │   0  0  0          q²          0      0  0")
@test mytest("Ucl.jl","XTable(UnipotentClasses(W);classes=true)","Values of character sheaves X̃ᵪ on unipotent classes\n  X̃ᵪ|class│   1 A₁ Ã₁ G₂(a₁) G₂(a₁)₍₂₁₎ G₂(a₁)₍₃₎ G₂\n──────────┼──────────────────────────────────────────\nX_φ₁‚₀^G₂ │   1  1  1      1          1         1  1\nX_φ₁‚₆^G₂ │  q⁶  0  0      0          0         0  0\nX_φ′₁‚₃^G₂│  q³  0  q     2q          0        -q  0\nX_φ″₁‚₃^G₂│  q³ q³  0      0          0         0  0\nX_φ₂‚₁^G₂ │ qΦ₈  q  q      q          q         q  0\nX_φ₂‚₂^G₂ │q²Φ₄ q² q²      0          0         0  0\nX_Id^.    │   0  0  0     q²        -q²        q²  0")
@test mytest("Ucl.jl","XTable(UnipotentClasses(W,2))","Values of character sheaves X̃ᵪ on local systems φ\n      X̃ᵪ|φ│   1 A₁ Ã₁ G₂(a₁)⁽¹¹¹⁾ G₂(a₁)⁽²¹⁾ G₂(a₁) G₂⁽¹¹⁾ G₂\n──────────┼───────────────────────────────────────────────────\nX_φ₁‚₀^G₂ │   1  1  1           0          0      1      0  1\nX_φ₁‚₆^G₂ │  q⁶  0  0           0          0      0      0  0\nX_φ′₁‚₃^G₂│  q³  0  q           0          q      0      0  0\nX_φ″₁‚₃^G₂│  q³ q³  0           0          0      0      0  0\nX_φ₂‚₁^G₂ │ qΦ₈  q  q           0          0      q      0  0\nX_φ₂‚₂^G₂ │q²Φ₄ q² q²           0          0      0      0  0\nX_Id^.    │   0  0  0          q²          0      0      0  0\nX_Id^.    │   0  0  0           0          0      0      q  0")
@test mytest("Ucl.jl","XTable(UnipotentClasses(rootdatum(:sl,4)))","Values of character sheaves X̃ᵪ on local systems φ\n    X̃ᵪ|φ│1111 211 22⁽¹¹⁾ 22 31 4 4^(ζ₄) 4⁽⁻¹⁾ 4^(ζ₄³)\n────────┼─────────────────────────────────────────────\nX₁₁₁₁^A₃│  q⁶   0      0  0  0 0      0     0       0\nX₂₁₁^A₃ │q³Φ₃  q³      0  0  0 0      0     0       0\nX₂₂^A₃  │q²Φ₄  q²      0 q²  0 0      0     0       0\nX₃₁^A₃  │ qΦ₃ qΦ₂      0  q  q 0      0     0       0\nX₄^A₃   │   1   1      0  1  1 1      0     0       0\nX₁₁^A₁  │   0   0     q³  0  0 0      0     0       0\nX₂^A₁   │   0   0     q²  0  0 0      0     q       0\nX_Id^.  │   0   0      0  0  0 0   q³⁄₂     0       0\nX_Id^.  │   0   0      0  0  0 0      0     0    q³⁄₂")
@test mytest("Ucl.jl","t=XTable(UnipotentClasses(coxgroup(:G,2));classes=true);","nothing")
@test mytest("Ucl.jl","CycPol.(t.cardClass)","7-element Vector{CycPol{Cyc{Rational{Int64}}}}:\n 1\n Φ₁Φ₂Φ₃Φ₆\n q²Φ₁Φ₂Φ₃Φ₆\n q²Φ₁²Φ₂²Φ₃Φ₆/6\n q²Φ₁²Φ₂²Φ₃Φ₆/2\n q²Φ₁²Φ₂²Φ₃Φ₆/3\n q⁴Φ₁²Φ₂²Φ₃Φ₆")
@test mytest("Ucl.jl","W=coxgroup(:G,2)","G₂")
@test mytest("Ucl.jl","GreenTable(UnipotentClasses(W))","Values of Green functions Q_wF on local systems φ\n   Qᴵ_wF|φ│        1     A₁       Ã₁ G₂(a₁)⁽¹¹¹⁾ G₂(a₁)⁽²¹⁾ G₂(a₁) G₂\n──────────┼───────────────────────────────────────────────────────────\nQ_A₀^G₂   │  Φ₂²Φ₃Φ₆   Φ₂Φ₃ (2q+1)Φ₂           0          q   2q+1  1\nQ_Ã₁^G₂   │-Φ₁Φ₂Φ₃Φ₆  -Φ₁Φ₃       Φ₂           0          q      1  1\nQ_A₁^G₂   │-Φ₁Φ₂Φ₃Φ₆   Φ₂Φ₆      -Φ₁           0         -q      1  1\nQ_G₂^G₂   │ Φ₁²Φ₂²Φ₃ -Φ₁Φ₂²    -Φ₁Φ₂           0         -q     Φ₂  1\nQ_A₂^G₂   │ Φ₁²Φ₂²Φ₆  Φ₁²Φ₂    -Φ₁Φ₂           0          q    -Φ₁  1\nQ_A₁+Ã₁^G₂│  Φ₁²Φ₃Φ₆  -Φ₁Φ₆ (2q-1)Φ₁           0         -q  -2q+1  1\nQ_^.      │        0      0        0          q²          0      0  0")
@test mytest("Ucl.jl","GreenTable(UnipotentClasses(W);classes=true)","Values of Green functions Q_wF on unipotent classes\nQᴵ_wF|class│        1     A₁       Ã₁ G₂(a₁) G₂(a₁)₍₂₁₎ G₂(a₁)₍₃₎ G₂\n───────────┼─────────────────────────────────────────────────────────\nQ_A₀^G₂    │  Φ₂²Φ₃Φ₆   Φ₂Φ₃ (2q+1)Φ₂   4q+1       2q+1        Φ₂  1\nQ_Ã₁^G₂    │-Φ₁Φ₂Φ₃Φ₆  -Φ₁Φ₃       Φ₂   2q+1          1       -Φ₁  1\nQ_A₁^G₂    │-Φ₁Φ₂Φ₃Φ₆   Φ₂Φ₆      -Φ₁  -2q+1          1        Φ₂  1\nQ_G₂^G₂    │ Φ₁²Φ₂²Φ₃ -Φ₁Φ₂²    -Φ₁Φ₂    -Φ₁         Φ₂      2q+1  1\nQ_A₂^G₂    │ Φ₁²Φ₂²Φ₆  Φ₁²Φ₂    -Φ₁Φ₂     Φ₂        -Φ₁     -2q+1  1\nQ_A₁+Ã₁^G₂ │  Φ₁²Φ₃Φ₆  -Φ₁Φ₆ (2q-1)Φ₁  -4q+1      -2q+1       -Φ₁  1\nQ_^.       │        0      0        0     q²        -q²        q²  0")
@test mytest("Ucl.jl","GreenTable(UnipotentClasses(rootdatum(:sl,4)))","Values of Green functions Q_wF on local systems φ\n Qᴵ_wF|φ│     1111          211 22⁽¹¹⁾       22   31 4 4^(ζ₄) 4⁽⁻¹⁾ 4^(ζ₄³)\n────────┼───────────────────────────────────────────────────────────────────\nQ₁₁₁₁^A₃│  Φ₂²Φ₃Φ₄ (3q²+2q+1)Φ₂      0 (2q+1)Φ₂ 3q+1 1      0     0       0\nQ₂₁₁^A₃ │-Φ₁Φ₂Φ₃Φ₄   -q³+q²+q+1      0       Φ₂   Φ₂ 1      0     0       0\nQ₂₂^A₃  │  Φ₁²Φ₃Φ₄        -Φ₁Φ₄      0  2q²-q+1  -Φ₁ 1      0     0       0\nQ₃₁^A₃  │ Φ₁²Φ₂²Φ₄        -Φ₁Φ₂      0    -Φ₁Φ₂    1 1      0     0       0\nQ₄^A₃   │ -Φ₁³Φ₂Φ₃        Φ₁²Φ₂      0      -Φ₁  -Φ₁ 1      0     0       0\nQ₁₁^A₁  │        0            0   q²Φ₂        0    0 0      0     q       0\nQ₂^A₁   │        0            0  -q²Φ₁        0    0 0      0     q       0\nQ_^.    │        0            0      0        0    0 0   q³⁄₂     0       0\nQ_^.    │        0            0      0        0    0 0      0     0    q³⁄₂")
@test mytest("Ucl.jl","W=coxgroup(:G,2)","G₂")
@test mytest("Ucl.jl","UnipotentValues(UnipotentClasses(W);classes=true)","Values of unipotent characters for G₂ on unipotent classes\n       │        1          A₁     Ã₁   G₂(a₁) G₂(a₁)₍₂₁₎ G₂(a₁)₍₃₎ G₂\n───────┼──────────────────────────────────────────────────────────────\nφ₁‚₀   │        1           1      1        1          1         1  1\nφ₁‚₆   │       q⁶           0      0        0          0         0  0\nφ′₁‚₃  │  qΦ₃Φ₆/3    -qΦ₁Φ₂/3      q (q+5)q/3     -qΦ₁/3     qΦ₁/3  0\nφ″₁‚₃  │  qΦ₃Φ₆/3  (2q²+1)q/3      0    qΦ₁/3     -qΦ₁/3  (q+2)q/3  0\nφ₂‚₁   │ qΦ₂²Φ₃/6 (2q+1)qΦ₂/6  qΦ₂/2 (q+5)q/6     -qΦ₁/6     qΦ₁/6  0\nφ₂‚₂   │ qΦ₂²Φ₆/2       qΦ₂/2  qΦ₂/2   -qΦ₁/2      qΦ₂/2    -qΦ₁/2  0\nG₂[-1] │ qΦ₁²Φ₃/2      -qΦ₁/2 -qΦ₁/2   -qΦ₁/2      qΦ₂/2    -qΦ₁/2  0\nG₂[1]  │ qΦ₁²Φ₆/6 (2q-1)qΦ₁/6 -qΦ₁/2 (q+5)q/6     -qΦ₁/6     qΦ₁/6  0\nG₂[ζ₃] │qΦ₁²Φ₂²/3    -qΦ₁Φ₂/3      0    qΦ₁/3     -qΦ₁/3  (q+2)q/3  0\nG₂[ζ₃²]│qΦ₁²Φ₂²/3    -qΦ₁Φ₂/3      0    qΦ₁/3     -qΦ₁/3  (q+2)q/3  0")
@test mytest("Ucl.jl","UnipotentValues(UnipotentClasses(W,3);classes=true)","Values of unipotent characters for G₂ on unipotent classes\n       │        1          A₁         Ã₁ G₂(a₁) G₂(a₁)₍₂₎    G₂       G₂_(ζ₃)\n───────┼──────────────────────────────────────────────────────────────────────\nφ₁‚₀   │        1           1          1      1         1     1             1\nφ₁‚₆   │       q⁶           0          0      0         0     0             0\nφ′₁‚₃  │  qΦ₃Φ₆/3    -qΦ₁Φ₂/3        q/3  qΦ₂/3    -qΦ₁/3 -2q/3           q/3\nφ″₁‚₃  │  qΦ₃Φ₆/3  (2q²+1)q/3        q/3  qΦ₂/3    -qΦ₁/3 -2q/3           q/3\nφ₂‚₁   │ qΦ₂²Φ₃/6 (2q+1)qΦ₂/6  (3q+1)q/6  qΦ₂/6    -qΦ₁/6  2q/3          -q/3\nφ₂‚₂   │ qΦ₂²Φ₆/2       qΦ₂/2      qΦ₂/2 -qΦ₁/2     qΦ₂/2     0             0\nG₂[-1] │ qΦ₁²Φ₃/2      -qΦ₁/2     -qΦ₁/2 -qΦ₁/2     qΦ₂/2     0             0\nG₂[1]  │ qΦ₁²Φ₆/6 (2q-1)qΦ₁/6 (-3q+1)q/6  qΦ₂/6    -qΦ₁/6  2q/3          -q/3\nG₂[ζ₃] │qΦ₁²Φ₂²/3    -qΦ₁Φ₂/3        q/3  qΦ₂/3    -qΦ₁/3   q/3 (-ζ₃+2ζ₃²)q/3\nG₂[ζ₃²]│qΦ₁²Φ₂²/3    -qΦ₁Φ₂/3        q/3  qΦ₂/3    -qΦ₁/3   q/3  (2ζ₃-ζ₃²)q/3\n\n       │     G₂_(ζ₃²)       (Ã₁)₃\n───────┼──────────────────────────\nφ₁‚₀   │            1           1\nφ₁‚₆   │            0           0\nφ′₁‚₃  │          q/3  (2q²+1)q/3\nφ″₁‚₃  │          q/3    -qΦ₁Φ₂/3\nφ₂‚₁   │         -q/3 (2q+1)qΦ₂/6\nφ₂‚₂   │            0       qΦ₂/2\nG₂[-1] │            0      -qΦ₁/2\nG₂[1]  │         -q/3 (2q-1)qΦ₁/6\nG₂[ζ₃] │ (2ζ₃-ζ₃²)q/3    -qΦ₁Φ₂/3\nG₂[ζ₃²]│(-ζ₃+2ζ₃²)q/3    -qΦ₁Φ₂/3")
@test mytest("Ucl.jl","W=coxgroup(:G,2)","G₂")
@test mytest("Ucl.jl","special_pieces(UnipotentClasses(W))","3-element Vector{Vector{Int64}}:\n [1]\n [4, 3, 2]\n [5]")
@test mytest("Ucl.jl","special_pieces(UnipotentClasses(W,3))","3-element Vector{Vector{Int64}}:\n [1]\n [4, 3, 2, 6]\n [5]")
end
end
